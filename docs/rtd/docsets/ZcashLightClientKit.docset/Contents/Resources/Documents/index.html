<!DOCTYPE html>
<html lang="en">
  <head>
    <title>PirateLightClientKit  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="PirateLightClientKit  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">PirateLightClientKit 0.13.0-beta.2 Docs</a> (53% documented)</p>
        <div class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">PirateLightClientKit Reference</a>
        <img id="carat" src="img/carat.png" alt=""/>
        PirateLightClientKit  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/CompactBlockProcessor.html">CompactBlockProcessor</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CompactBlockProcessor/Configuration.html">– Configuration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CompactBlockProcessor/State.html">– State</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DerivationTool.html">DerivationTool</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Initializer.html">Initializer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LightWalletGRPCService.html">LightWalletGRPCService</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SDKSynchronizer.html">SDKSynchronizer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SDKSynchronizer/NotificationKeys.html">– NotificationKeys</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PirateSDKMainnetConstants.html">PirateSDKMainnetConstants</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PirateSDKTestnetConstants.html">PirateSDKTestnetConstants</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/CompactBlockProcessorError.html">CompactBlockProcessorError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/CompactBlockProcessorNotificationKey.html">CompactBlockProcessorNotificationKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/CompactBlockProgress.html">CompactBlockProgress</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ConnectionState.html">ConnectionState</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/GRPCResult.html">GRPCResult</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/InitializerError.html">InitializerError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/KeyDerivationErrors.html">KeyDerivationErrors</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/LightWalletServiceError.html">LightWalletServiceError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/NetworkType.html">NetworkType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ResourceProviderError.html">ResourceProviderError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/RewindPolicy.html">RewindPolicy</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/RustWeldingError.html">RustWeldingError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums.html#/s:19PirateLightClientKit10SDKMetricsO">SDKMetrics</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SaplingParameterDownloader.html">SaplingParameterDownloader</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SaplingParameterDownloader/Errors.html">– Errors</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ShieldFundsError.html">ShieldFundsError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SyncStatus.html">SyncStatus</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SynchronizerError.html">SynchronizerError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TransactionEncoderError.html">TransactionEncoderError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TransactionKind.html">TransactionKind</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/PirateNetworkBuilder.html">PirateNetworkBuilder</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums.html#/s:19PirateLightClientKit0A27RustBackendWeldingConstantsO">ZcashRustBackendWeldingConstants</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/PirateSDK.html">PirateSDK</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/ConsensusBranchID.html">ConsensusBranchID</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Data.html">Data</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Notification.html">Notification</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Notification/Name.html">– Name</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/ServerStreamingCall.html">ServerStreamingCall</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/String.html">String</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/AbstractTransaction.html">AbstractTransaction</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CancellableCall.html">CancellableCall</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CompactBlockDownloading.html">CompactBlockDownloading</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ConfirmedTransactionEntity.html">ConfirmedTransactionEntity</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/EnhancementProgress.html">EnhancementProgress</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/KeyDeriving.html">KeyDeriving</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/KeyValidation.html">KeyValidation</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/LightWalletService.html">LightWalletService</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/LightWalletServiceResponse.html">LightWalletServiceResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/LightWalletdInfo.html">LightWalletdInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Logger.html">Logger</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/MinedTransactionEntity.html">MinedTransactionEntity</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/NetworkConstants.html">NetworkConstants</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/PaginatedTransactionRepository.html">PaginatedTransactionRepository</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/PendingTransactionEntity.html">PendingTransactionEntity</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/RawIdentifiable.html">RawIdentifiable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ResourceProvider.html">ResourceProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SignedTransactionEntity.html">SignedTransactionEntity</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Synchronizer.html">Synchronizer</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TransactionEntity.html">TransactionEntity</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/UnifiedAddress.html">UnifiedAddress</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/UnifiedViewingKey.html">UnifiedViewingKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/UnspentTransactionOutputEntity.html">UnspentTransactionOutputEntity</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/WalletBalance.html">WalletBalance</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/PirateNetwork.html">PirateNetwork</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ZcashRustBackendWelding.html">ZcashRustBackendWelding</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/BlockProgress.html">BlockProgress</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/DefaultResourceProvider.html">DefaultResourceProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/EnhancementStreamProgress.html">EnhancementStreamProgress</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LightWalletEndpoint.html">LightWalletEndpoint</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/WalletBirthday.html">WalletBirthday</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ZcashCompactBlock.html">ZcashCompactBlock</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:19PirateLightClientKit11BlockHeighta">BlockHeight</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:19PirateLightClientKit7Channela">Channel</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:19PirateLightClientKit17CompactBlockRangea">CompactBlockRange</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:19PirateLightClientKit17ConsensusBranchIDa">ConsensusBranchID</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:19PirateLightClientKit22ExtendedFullViewingKeya">ExtendedFullViewingKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:19PirateLightClientKit17ExtendedPublicKeya">ExtendedPublicKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:19PirateLightClientKit14RefreshedUTXOsa">RefreshedUTXOs</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:19PirateLightClientKit22SaplingShieldedAddressa">SaplingShieldedAddress</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:19PirateLightClientKit18TransparentAddressa">TransparentAddress</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='zcash-ios-framework' class='heading'>Zcash iOS Framework</h1>

<p><a href="https://travis-ci.org/piratenetwork/PirateLightClientKit"><img src="https://travis-ci.org/piratenetwork/PirateLightClientKit.svg?branch=master" alt="Build Status"></a></p>

<p>A Zcash Lightweight Client SDK for iOS
This is an alpha build and is currently under active development. Please be advised of the following:</p>

<ul>
<li>This code currently is not audited by an external security auditor, use it at your own risk</li>
<li>The code <strong>has not been subjected to thorough review</strong> by engineers at the Electric Coin Company</li>
<li>We <strong>are actively changing</strong> the codebase and adding features where/when needed</li>
</ul>

<p>🔒 Security Warnings</p>

<ul>
<li>The Zcash iOS Wallet SDK is experimental and a work in progress. Use it at your own risk.</li>
<li>Developers using this SDK must familiarize themselves with the current <a href="https://zcash.readthedocs.io/en/latest/rtd_pages/wallet_threat_model.html">threat
model</a>, especially the known weaknesses described there.</li>
</ul>
<h1 id='installation' class='heading'>Installation</h1>
<h2 id='swift-package-manager' class='heading'>Swift Package Manager</h2>

<p>Add a package with the source &ldquo;<a href="https://github.com/piratenetwork/PirateLightClientKit.git">https://github.com/piratenetwork/PirateLightClientKit.git</a>&rdquo; and from version &ldquo;0.13.0&rdquo; onwards in either Xcode&rsquo;s GUI or in your &ldquo;Package.swift&rdquo; file</p>
<h2 id='cocoapods-support' class='heading'>Cocoapods Support</h2>

<p>Add <code>pod &quot;PirateLightClientKit&quot;, ~&gt; &quot;0.13.0-beta.2&quot;</code> to the target you want to add the kit too.</p>
<h1 id='testing' class='heading'>Testing</h1>

<p>The best way to run tests is to open &ldquo;Package.swift&rdquo; in Xcode and use the Test panel and target an iOS device. Tests will build and run for a Mac target but are not currently working as expected.</p>

<p>There are three test targets grouped by external requirements:</p>

<ol>
<li><code>OfflineTests</code>

<ul>
<li>No external requirements.</li>
</ul></li>
<li><code>NetworkTests</code>

<ul>
<li>Require an active internet connection.</li>
</ul></li>
<li><code>DarksideTests</code>

<ul>
<li>Require an instance of <code>lightwalletd</code> to be running while the tests are being run, see below for some information on how to set up. (Darkside refers to a mode in lightwalletd that allows it to be updated to represent/mock different states of the underlying blockchain.)</li>
</ul></li>
</ol>
<h2 id='lightwalletd' class='heading'>lightwalletd</h2>

<p>The <code>DarksideTests</code> test target depend on a <code>lightwalletd</code> server instance running locally (or remotely). For convenience, we have added a universal (Mac) <code>lightwalletd</code> binary (in `Tests/lightwalletd/lightwalletd) and it can be run locally for use by the tests with the following command:</p>
<pre class="highlight plaintext"><code>Tests/lightwalletd/lightwalletd --no-tls-very-insecure --data-dir /tmp --darkside-very-insecure --log-file /dev/stdout
</code></pre>

<p>You can find out more about running <code>lightwalletd</code>, from the main repo <a href="https://github.com/zcash/lightwalletd">https://github.com/zcash/lightwalletd</a>.</p>
<h3 id='integrating-with-cd-ci' class='heading'>Integrating with CD/CI</h3>

<p>The <code>LIGHTWALLETD_ADDRESS</code> environment variable can also be added to your shell of choice and <code>xcodebuild</code> will pick it up accordingly.</p>

<p>We advise setting this value as a secret variable on your CD/CI environment when possible.</p>
<h1 id='integrating-with-logging-tools' class='heading'>Integrating with logging tools</h1>

<p>There are a lots of good logging tools for iOS. So we&rsquo;ll leave that choice to you. PirateLightClientKit relies on a simple protocol to bubble up logs to client applications, which is called <code><a href="Protocols/Logger.html">Logger</a></code> (kudos for the naming originality&hellip;)</p>
<pre class="highlight plaintext"><code>public protocol Logger {

    func debug(_ message: String, file: String, function: String, line: Int)

    func info(_ message: String, file: String, function: String, line: Int)

    func event(_ message: String, file: String, function: String, line: Int)

    func warn(_ message: String, file: String, function: String, line: Int)

    func error(_ message: String, file: String, function: String, line: Int)

}
</code></pre>

<p>To enable logging you need to do 2 simple steps:</p>

<ol>
<li>have one class conform the <code><a href="Protocols/Logger.html">Logger</a></code> protocol</li>
<li>inject that logger when creating the <code><a href="Classes/Initializer.html">Initializer</a></code></li>
</ol>

<p>For more details look the Sample App&rsquo;s <code>AppDelegate</code> code.</p>
<h1 id='swiftlint' class='heading'>Swiftlint</h1>

<p>We don&rsquo;t like reinventing the wheel, so we gently borrowed swift lint rules from AirBnB which we find pretty cool and reasonable.</p>
<h1 id='versioning' class='heading'>Versioning</h1>

<p>This project follows <a href="https://semver.org/">semantic versioning</a> with pre-release versions. An example of a valid version number is <code>1.0.4-alpha11</code> denoting the <code>11th</code> iteration of the <code>alpha</code> pre-release of version <code>1.0.4</code>. Stable releases, such as <code>1.0.4</code> will not contain any pre-release identifiers. Pre-releases include the following, in order of stability: <code>alpha</code>, <code>beta</code>, <code>rc</code>. Version codes offer a numeric representation of the build name that always increases. The first six significant digits represent the major, minor and patch number (two digits each) and the last 3 significant digits represent the pre-release identifier. The first digit of the identifier signals the build type. Lastly, each new build has a higher version code than all previous builds. The following table breaks this down:</p>
<h4 id='build-types' class='heading'>Build Types</h4>

<table><thead>
<tr>
<th style="text-align: left">Type</th>
<th style="text-align: left">Purpose</th>
<th style="text-align: left">Stability</th>
<th style="text-align: left">Audience</th>
<th style="text-align: left">Identifier</th>
<th style="text-align: left">Example Version</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>alpha</strong></td>
<td style="text-align: left"><strong>Sandbox.</strong> For developers to verify behavior and try features. Things seen here might never go to production. Most bugs here can be ignored.</td>
<td style="text-align: left">Unstable: Expect bugs</td>
<td style="text-align: left">Internal developers</td>
<td style="text-align: left">0XX</td>
<td style="text-align: left">1.2.3-alpha04 (10203004)</td>
</tr>
<tr>
<td style="text-align: left"><strong>beta</strong></td>
<td style="text-align: left"><strong>Hand-off.</strong> For developers to present finished features. Bugs found here should be reported and immediately addressed, if they relate to recent changes.</td>
<td style="text-align: left">Unstable: Report bugs</td>
<td style="text-align: left">Internal stakeholders</td>
<td style="text-align: left">2XX</td>
<td style="text-align: left">1.2.3-beta04 (10203204)</td>
</tr>
<tr>
<td style="text-align: left"><strong>release candidate</strong></td>
<td style="text-align: left"><strong>Hardening.</strong> Final testing for an app release that we believe is ready to go live. The focus here is regression testing to ensure that new changes have not introduced instability in areas that were previously working.</td>
<td style="text-align: left">Stable: Hunt for bugs</td>
<td style="text-align: left">External testers</td>
<td style="text-align: left">4XX</td>
<td style="text-align: left">1.2.3-rc04 (10203404)</td>
</tr>
<tr>
<td style="text-align: left"><strong>production</strong></td>
<td style="text-align: left"><strong>Delivery.</strong> Deliver new features to end users. Any bugs found here need to be prioritized. Some will require immediate attention but most can be worked into a future release.</td>
<td style="text-align: left">Stable: Prioritize bugs</td>
<td style="text-align: left">Public</td>
<td style="text-align: left">8XX</td>
<td style="text-align: left">1.2.3 (10203800)</td>
</tr>
</tbody></table>
<h2 id='examples' class='heading'>Examples</h2>

<p>This repo contains demos of isolated functionality that this SDK provides. They can be found in the examples folder.</p>

<p>Examples can be found in the <a href="/Example/PirateLightClientSample">Demo App</a>.</p>
<h1 id='license' class='heading'>License</h1>

<p>MIT</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2022 <a class="link" href="https://github.com/piratenetwork/PirateLightClientKit" target="_blank" rel="external noopener">Francisco Gindre and Jack Grigg</a>. All rights reserved. (Last updated: 2022-04-07)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
